<!doctype html>
<html lang="en">
  <head>
    {% include 'headCode.html' %}
    <title>User</title>
  </head>

  <body>
  {% include "user_header.html" %}
  <h1 style="margin-left: 1em; margin-top: 1em">My Profile</h1>

  <div style="display: flex; margin-left: 3em; margin-bottom: 1em">
	  <p style="margin-right: 2em; margin-left: 1em; align-self: center">Username</p>
	  <input type="text" style="width: auto" disabled value="{{ user }}"/>
  </div>

  <div style="display: flex; margin-left: 3em;">
	  <p style="margin-right: 4em; margin-left: 1em; align-self: center">Email</p>
	  <input type="text" disabled style="width: auto" value="{{ email }}"/>
  </div>

  <a href="{{ url_for('change_pass') }}"><button class="btn btn-success" style="margin-left: 3em; margin-top: 1em;">Change Password</button></a>

  <h3 class="titleCenter" style="margin-bottom: 0em; margin-top: 1em;">Active Created Events:</h3>

  <div class="myEventRow">
	  {% for event in usersEvents %}
	  <div class="card eventRow" style="width: 18rem;">
		  <div class="card-body">
			  <img src="/static/img/{{ event.relativePath }}" alt="Location of Image" class="card-img-top">
			  <h5 class="card-title"><a href="{{ url_for('get_event', event_id=event.eventID) }}">{{ event.name }}</a></h5>
			  <p class="card-text">{{ event.description }}</p>
			  <a href="{{ url_for('modify_event', event_id=event.eventID) }}">
				  <button class="btn btn-primary">Edit</button>
			  </a>
			  <a href="{{ url_for('delete_event', event_id=event.eventID) }}">
				  <button class="btn btn-danger">Delete</button>
			  </a>
		  </div>
	  </div>
	  {% endfor %}
  </div>

  <h4 style="display: flex; justify-content: center; margin-bottom: 2em;">Total amount of events created: {{ userStats.totalEventsCreated }}</h4>

  <h3 class="titleCenter" style="margin-right: 3em; margin-left: 2.5em; margin-bottom: 0em; margin-top: 0.5em;">Active Joined Events:</h3>

  <div class="myEventRow">
	  {% for event in userJoinedEvents %}
	  <div class="card eventRow" style="width: 18rem;">
		  <div class="card-body">
			  <img src="/static/img/{{ event.relativePath }}" alt="Location of Image" class="card-img-top">
			  <h5 class="card-title"><a href="{{ url_for('get_event', event_id=event.eventID) }}">{{ event.name }}</a></h5>
			  <p class="card-text">{{ event.description }}</p>
		  </div>
	  </div>
	  {% endfor %}
  </div>

  <h4 style="display: flex; justify-content: center; margin-bottom: 2em;">Total amount of events joined: {{ userStats.totalEventsJoined }}</h4>


  <div class="myEventRow">
	  {% for review, event in zip(userReviews,userReviewEvents) %}

	  <div class="card eventRow" style="width: 18rem;">
		  <div class="card-body">
			  <h5 class="card-title"><a href="{{ url_for('get_event', event_id=review.eventID) }}">{{ event.name }}</a></h5>
			  <p class="card-text">{{ review.content }}</p>
		  </div>
	  </div>

	  {% endfor %}
  </div>

  <h4 style="display: flex; justify-content: center; margin-bottom: 2em;">Total amount of event reviews created: {{ userStats.totalEventReviews }}</h4>

  </body>
</html>
